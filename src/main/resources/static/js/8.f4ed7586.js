(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{b71a:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex flex-center"},[t.isCreated?s("div",[s("p",[t._v("Анкета успешно создана!")]),s("div",{staticClass:"flex flex-center"},[s("q-btn",{attrs:{to:"/",label:"Назад",outline:"",color:"primary"}})],1)]):s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"q-gutter-md",staticStyle:{"max-width":"300px"}},[s("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[s("q-input",{attrs:{outlined:"",label:"Название анкеты"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._l(t.questions,(function(e,i){return s("div",{key:i},[s("q-card",{staticClass:"my-card"},[s("q-card-section",[s("q-input",{attrs:{outlined:"",label:i+1+"й вопрос"},model:{value:e.description,callback:function(s){t.$set(e,"description",s)},expression:"question.description"}}),s("div",{staticClass:"q-gutter-sm"},[s("q-checkbox",{attrs:{label:"На этот вопрос можно дать несколько ответов?"},model:{value:e.hasMultipleAnswers,callback:function(s){t.$set(e,"hasMultipleAnswers",s)},expression:"question.hasMultipleAnswers"}})],1),s("q-btn",{attrs:{label:"Добавить вариант ответа",outline:"",color:"primary"},on:{click:function(e){return t.addAnswerOption(i)}}}),t._l(e.answerOptions,(function(e,i){return s("div",{key:i},[s("q-input",{attrs:{outlined:"",label:i+1+"й вариант ответа"},model:{value:e.description,callback:function(s){t.$set(e,"description",s)},expression:"answer.description"}})],1)}))],2)],1)],1)})),s("div",{staticClass:"flex flex-center"},[s("q-btn",{attrs:{label:"Добавить новый вопрос",outline:"",color:"primary"},on:{click:t.addQuestion}})],1),s("div",{staticClass:"flex flex-center"},[s("q-btn",{attrs:{label:"Создать",type:"submit",outline:"",color:"primary"}})],1),s("div",{staticClass:"flex flex-center"},[s("q-btn",{attrs:{to:"/",label:"Назад",outline:"",color:"primary"}})],1)],2)],1)])])},n=[],a=(s("e6cf"),s("c973")),o=s.n(a),r={name:"QuestionnaireCreation",data(){return{isCreated:!1,title:"",questions:[{description:"Первый вопрос",hasMultipleAnswers:!1,answerOptions:[{description:"Первый вариант ответа"},{description:"Второй вариант ответа"}]}]}},methods:{onSubmit(){var t=this;return o()((function*(){const e={title:t.title,questions:t.questions},s=yield fetch("http://localhost:8080/questionnaires",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.getters["userStore/getToken"]},body:JSON.stringify(e)});s.ok&&(t.isCreated=!0)}))()},addAnswerOption(t){this.questions[t].answerOptions.push({description:""})},addQuestion(){this.questions.push({description:"Новый вопрос",hasMultipleAnswers:!1,answerOptions:[{description:"Первый вариант ответа"},{description:"Второй вариант ответа"}]})}}},l=r,c=s("2877"),u=s("9989"),d=s("0378"),p=s("27f9"),b=s("f09f"),f=s("a370"),m=s("8f8e"),q=s("9c40"),h=s("eebe"),w=s.n(h),x=Object(c["a"])(l,i,n,!1,null,null,null);e["default"]=x.exports;w()(x,"components",{QPage:u["a"],QForm:d["a"],QInput:p["a"],QCard:b["a"],QCardSection:f["a"],QCheckbox:m["a"],QBtn:q["a"]})}}]);